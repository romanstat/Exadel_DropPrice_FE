<div class="vendor"
     fxLayout="row"
     fxLayoutAlign="start start"
     fxLayoutGap="1em"
>
  <article class="vendor-detail"
  fxFlex="30"
  >
    <section class="vendor-detail__header"
             fxLayout="row"
             fxLayoutAlign="center center"
             fxLayoutGap="1em"
    >
      <div class="vendor-detail__header_title">
        {{'Рейтинг вендора: '}}
      </div>
      <div class="vendor-detail__header_rating"
           fxLayout="row"
           fxLayoutAlign="center center"
           fxLayoutGap=".3em"
      >
      <span class="rating__amount"
            fxLayoutAlign="center center"
      >
          {{vendor?.vendorRating ? vendor?.vendorRating.toFixed(1) : vendor?.vendorRating}}
    </span>
        <mat-icon class="rating__icon"
                  fxLayoutAlign="center center"
        >{{vendor?.vendorRating ? 'star_rate' : 'star_border'}}
        </mat-icon>
      </div>
    </section>
    <section class="vendor-detail__content">
      <mat-card class="vendor-content">
        <div class="vendor-content__field">
          <mat-form-field>
            <p class="vendor-content__field_label"
            >
              {{'Наименование вендора:'}}
            </p>
            <mat-select
              (selectionChange)="selectVendor($event)"
            >
              <mat-option
                [value]="vendor?.vendorId"
              >
                {{vendor?.vendorName}}
              </mat-option>
              <mat-option *ngFor="let vend of vendors" [value]="vend.vendorId">
                {{vend.vendorName}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <!--        <p class="vendor-content__field_label"-->
          <!--        >-->
          <!--          {{'Наименование вендора:'}}-->
          <!--        </p>-->
          <!--        <p class="vendor-content__field_text"-->
          <!--           contenteditable="true"-->
          <!--        >-->
          <!--          {{vendor?.vendorName}}-->
          <!--        </p>-->
        </div>
        <div class="vendor-content__field">
          <p class="vendor-content__field_label">
            {{'Адрес:'}}
          </p>
          <p class="vendor-content__field_text">
            {{vendor?.address}}
          </p>
        </div>
        <div class="vendor-content__field">
          <p class="vendor-content__field_label">
            {{'Электронная почта:'}}
          </p>
          <p class="vendor-content__field_text">
            {{vendor?.email}}
          </p>
        </div>
        <div class="vendor-content__field">
          <p class="vendor-content__field_label">
            {{'Контактный телефон:'}}
          </p>
          <p class="vendor-content__field_text">
            {{vendor?.phone}}
          </p>
        </div>
        <div class="vendor-content__field">
          <p class="vendor-content__field_label">
            {{'Социальные сети:'}}
          </p>
          <p class="vendor-content__field_text">
            {{vendor?.socials}}
          </p>
        </div>
      </mat-card>

    </section>
    <section class="vendor_detail__actions">
      <button *appVerifyUserRoles='["Moderator"]'
              class="vendor_detail__actions_button"
      >
        {{'Редактировать'}}
      </button>
    </section>
  </article>
  <app-discounts-list
    fxFlex="70"
    [discounts]="vendorDiscounts"
    [towns]="towns"
    (locationChange)="onLocationChange($event)"
    (getTicket)="getTicket($event)"
    (sortChange)="onSortChange($event)"
    (toggleFavourites)="changeFavourites($event)"
    [activeCoords]="activeCoords"
    [sortBy]="sortBy"
    (toggleCoordinates)="changeCoords()"
  ></app-discounts-list>
</div>
<ng-template appRef></ng-template>
