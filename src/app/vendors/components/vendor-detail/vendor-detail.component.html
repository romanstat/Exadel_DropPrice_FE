<div class="vendors">
  <article class="vendors-detail">
    <section class="vendors-detail__header"
             fxLayout="row"
             fxLayoutAlign="center center"
             fxLayoutGap="1em"
    >
      <h3 class="vendors-detail__header_title">
        {{"VENDOR_PAGE.VENDOR_DETAIL.DETAIL_RATING_LABEL" | translate}}
      </h3>
      <div class="vendors-detail__header_rating"
           fxLayout="row"
           fxLayoutAlign="center center"
           fxLayoutGap=".3em"
      >
      <span class="rating__amount"
            fxLayoutAlign="center center"
      >
          {{(vendor$ | async)?.vendorRating | number: '.1-2'}}
    </span>
        <mat-icon class="rating__icon"
                  fxLayoutAlign="center center"
        >{{(vendor$ | async)?.vendorRating ? 'star_rate' : 'star_border'}}
        </mat-icon>
      </div>
    </section>
    <section class="vendors-detail__content">
      <div class="vendor-content">
        <div class="vendor-content__field">
          <p class="vendor-content__field_label"
          >
            {{"VENDOR_PAGE.VENDOR_DETAIL.DETAIL_CONTENT.VENDOR_NAME" | translate}}
          </p>

          <select [formControl]="vendorSelect">
            <option *ngFor="let vendor of vendorsList$ | async"
                    [value]="vendor.vendorId"
                    [selected]="vendor.vendorId === vendorId"
            >
              {{vendor.vendorName}}
            </option>
          </select>
        </div>
        <div class="vendor-content__field">
          <p class="vendor-content__field_label">
            {{"VENDOR_PAGE.VENDOR_DETAIL.DETAIL_CONTENT.VENDOR_ADDRESS" | translate}}

          </p>
          <p class="vendor-content__field_text">
            {{(vendor$ | async)?.address}}
          </p>
        </div>
        <div class="vendor-content__field">
          <p class="vendor-content__field_label">
            {{"VENDOR_PAGE.VENDOR_DETAIL.DETAIL_CONTENT.VENDOR_EMAIL" | translate}}
          </p>
          <p class="vendor-content__field_text">
            {{(vendor$ | async)?.email}}
          </p>
        </div>
        <div class="vendor-content__field">
          <p class="vendor-content__field_label">
            {{"VENDOR_PAGE.VENDOR_DETAIL.DETAIL_CONTENT.VENDOR_PHONE" | translate}}

          </p>
          <p class="vendor-content__field_text">
            {{(vendor$ | async)?.phone}}
          </p>
        </div>
        <div class="vendor-content__field">
          <p class="vendor-content__field_label">
            {{"VENDOR_PAGE.VENDOR_DETAIL.DETAIL_CONTENT.VENDOR_SOCIALS" | translate}}

          </p>
          <ul class="vendor-content__field_text">
            <li *ngFor="let social of (vendor$ | async)?.socialLinks">
              <a
                href="{{social.path}}"
                target="_blank"
                title="{{social.name}}"
              >
                {{social.name}}
              </a>
            </li>
          </ul>
        </div>
      </div>
    </section>
    <section class="vendors-detail__actions">
      <button *appVerifyUserRoles='["Moderator"]'
              class="vendors-detail__actions_button"
              mat-flat-button
              matTooltip="Edit Discount"
              (click)="onEditVendor(vendorId)"
      >
        {{"VENDOR_PAGE.VENDOR_DETAIL.DETAIL_ACTIONS.EDIT" | translate}}
      </button>
    </section>
  </article>
  <article class="vendors-discounts">
    <app-discounts-list
      [discounts$]="vendorDiscounts$"
      [towns$]="towns$"
      (locationChange)="onLocationChange($event)"
      (getTicket)="getTicket($event)"
      (sortChange)="onSortChange($event)"
      (toggleFavourites)="changeFavourites($event)"
      [sorts$]="sorts$"
      [sortBySelected$]="sortBySelected$"
      [locationSelected$]="locationSelected$"
    ></app-discounts-list>
  </article>
</div>
<ng-template appRef></ng-template>

